import{j as e,i as c,I as d,u,b as N,o as b,p as f,q as w,s as k,t as B,v as C,w as R,C as S,R as T,B as v,x as M,g as A}from"./index-DNg-2o6Y.js";const F="_short_g0ryn_64",U="_secondary_g0ryn_95",t={"movie-poster__container":"_movie-poster__container_g0ryn_1","movie-poster__picture":"_movie-poster__picture_g0ryn_9","movie-poster__picture-img":"_movie-poster__picture-img_g0ryn_19","movie-poster__content":"_movie-poster__content_g0ryn_36","movie-poster__data":"_movie-poster__data_g0ryn_39","movie-poster__data-list":"_movie-poster__data-list_g0ryn_44","movie-poster__data-item":"_movie-poster__data-item_g0ryn_52","movie-poster__title":"_movie-poster__title_g0ryn_58",short:F,"movie-poster__description":"_movie-poster__description_g0ryn_72","movie-poster__control-list":"_movie-poster__control-list_g0ryn_85","movie-poster__control-item":"_movie-poster__control-item_g0ryn_90","movie-poster":"_movie-poster_g0ryn_1",secondary:U,"movie-poster__picture-wrapper":"_movie-poster__picture-wrapper_g0ryn_129","movie-poster__control-item-btn":"_movie-poster__control-item-btn_g0ryn_180"},$="_active_pchy4_45",Y="_secondary_pchy4_64",a={"button-icon":"_button-icon_pchy4_1","button-icon__wrapper":"_button-icon__wrapper_pchy4_14","button-icon__svg":"_button-icon__svg_pchy4_21",active:$,secondary:Y},x=({appearence:s="primary",className:o,active:r=!1,nameSvg1:n="default",nameSvg2:_="default",...i})=>e.jsx("button",{className:c(a["button-icon"],{[a[`${o}`]]:o,[a.active]:r,[a.secondary]:s==="secondary"}),...i,children:e.jsxs("span",{className:a["button-icon__wrapper"],children:[e.jsx(d,{className:a["button-icon__svg"],name:n}),e.jsx(d,{className:a["button-icon__svg"],name:_})]})}),I=({movieId:s})=>{const o=u(),r=N(i=>i.user.profile),n=!!(r!=null&&r.favorites.find(i=>i===String(s))),_=async()=>{r?(n?await o(f(s)):await o(b(s)),await o(w())):o(k.openModal("auth"))};return e.jsx(x,{className:t["movie-poster__control-item-btn"],type:"button",active:n,nameSvg1:"like",nameSvg2:"like-second",onClick:_})},q=({movie:s,appearence:o="primary",toReleaseYear:r,isMinuteRuntime:n,isVisibleShortDescription:_=!1})=>{const i=u(),h=B(),m=C(s.releaseYear,r),p=R(s.runtime,!n),l=s.backdropUrl||"",y=()=>{s&&i(M.open({url:s.trailerUrl,title:s.title}))},g=()=>{s&&h(`/movie/${s.id}`)},j=async()=>{await i(A())};return e.jsx("section",{className:c(t["movie-poster"],{[t.secondary]:o==="secondary"}),children:e.jsxs(S,{className:c(t["movie-poster__container"]),children:[e.jsx("div",{className:t["movie-poster__picture-wrapper"],children:e.jsxs("picture",{className:t["movie-poster__picture"],children:[e.jsx("source",{className:t["movie-poster__picture-source"],srcSet:l,media:"(max-width: 1920px)"}),e.jsx("source",{className:t["movie-poster__picture-source"],srcSet:l,media:"(min-width: 1920px)"}),e.jsx("img",{className:t["movie-poster__picture-img"],src:l,alt:"Постер"})]})}),e.jsxs("div",{className:t["movie-poster__content"],children:[e.jsxs("div",{className:t["movie-poster__data"],children:[e.jsxs("ul",{className:t["movie-poster__data-list"],children:[e.jsx("li",{className:t["movie-poster__data-item"],children:e.jsx(T,{rating:s.tmdbRating,size:"large"})}),e.jsx("li",{className:t["movie-poster__data-item"],children:e.jsx("time",{className:t["movie-poster__time"],dateTime:m.format,children:m.value})}),e.jsx("li",{className:t["movie-poster__data-item"],children:e.jsx("p",{className:t["movie-poster__text"],children:s.genres.join(", ")})}),e.jsx("li",{className:t["movie-poster__data-item"],children:e.jsx("time",{className:t["movie-poster__time"],dateTime:p.format,children:p.value})})]}),e.jsx("h2",{className:c(t["movie-poster__title"],{[t.short]:_}),children:s.title}),e.jsx("p",{className:c(t["movie-poster__description"],{[t.short]:_}),children:s.plot})]}),e.jsx("div",{className:t["movie-poster__control"],children:e.jsxs("ul",{className:t["movie-poster__control-list"],children:[e.jsx("li",{className:t["movie-poster__control-item"],children:e.jsx(v,{className:t["movie-poster__control-item-btn"],text:"Трейлер",type:"button",onClick:y})}),e.jsx("li",{className:t["movie-poster__control-item"],children:e.jsx(v,{className:t["movie-poster__control-item-btn"],text:"О фильме",appearence:"secondary",type:"button",onClick:g})}),e.jsx("li",{className:t["movie-poster__control-item"],children:e.jsx(I,{movieId:s.id})}),e.jsx("li",{className:t["movie-poster__control-item"],children:e.jsx(x,{className:t["movie-poster__control-item-btn"],appearence:"secondary",type:"button",nameSvg1:"random",onClick:j})})]})})]})]})})};export{q as M};
