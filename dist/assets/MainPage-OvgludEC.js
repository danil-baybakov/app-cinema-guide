import{u as _,r as p,e as d,j as e,C as u,S as x,a as h,f as j,b as f,g,P as y}from"./index-DNg-2o6Y.js";import{M}from"./MovieCard-UFnnDEjG.js";import{u as v,T as w,M as n,q as N}from"./Message-DyVdwm-v.js";import{M as S}from"./MoviePoster-B-WDv2OW.js";const P="_top__container_myr0n_1",b="_top__title_myr0n_5",C="_top__list_myr0n_11",E="_top__item_myr0n_38",t={top__container:P,top__title:b,top__list:C,"top__list-wrapper":"_top__list-wrapper_myr0n_18",top__item:E},T=()=>{const r=_(),{data:s,error:o,isSuccess:i,isPending:c,isError:l}=v({queryFn:()=>j(),queryKey:["movie","top10"],gcTime:0},N);return p.useEffect(()=>{o&&r(d.add([o.message]))},[o,r]),e.jsx("section",{className:t.top,"aria-label":"Топ 10 фильмов",children:e.jsxs(u,{className:t.top__container,children:[e.jsx("h2",{className:t.top__title,children:"Топ 10 фильмов"}),c&&e.jsx(w,{className:t.top__message}),i&&s&&s.length>0&&e.jsx("div",{className:t["top__list-container"],children:e.jsx(x,{className:t["top__list-wrapper"],wrapperClass:t.top__list,spaceBetween:40,slidesPerView:"auto",loop:!0,breakpoints:{567:{enabled:!1}},children:s.map((a,m)=>e.jsx(h,{className:t.top__item,children:e.jsx(M,{movie:a,place:m+1})},a.id))})}),i&&s&&s.length==0&&e.jsx(n,{children:"Список фильмов пустой."}),l&&e.jsx(n,{children:"Ошибка загрузки данных."})]})})},q=()=>{const r=_(),s=f(o=>o.poster.movie);return p.useEffect(()=>{s||r(g())},[]),s?e.jsx(e.Fragment,{children:e.jsx(S,{movie:s,isVisibleShortDescription:!0})}):e.jsx(y,{})},k=()=>e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsx(T,{})]});export{k as default};
