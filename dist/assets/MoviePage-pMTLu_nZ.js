import{j as e,c as f,l as x,m as _,C as c,h as j,u as h,r as p,e as g,P as N,n as y}from"./index-DNg-2o6Y.js";import{M}from"./MoviePoster-B-WDv2OW.js";import{u as P,T as F,M as l,q as I}from"./Message-DyVdwm-v.js";const t={"movie-info":"_movie-info_2r5iu_1","movie-info__container":"_movie-info__container_2r5iu_6","movie-info__title":"_movie-info__title_2r5iu_10","movie-info__list":"_movie-info__list_2r5iu_16","movie-info__item":"_movie-info__item_2r5iu_20","movie-info__item-name":"_movie-info__item-name_2r5iu_24","movie-info__item-name-text":"_movie-info__item-name-text_2r5iu_29"},b=({title:i,value:a})=>{const s=a||"";return e.jsx(e.Fragment,{children:e.jsxs("li",{className:t["movie-info__item"],children:[e.jsx("p",{className:t["movie-info__item-name"],children:e.jsx("span",{className:t["movie-info__item-name-text"],children:i})}),e.jsx("p",{className:t["movie-info__item-descr"],children:f(s)})]})})},q=({movie:i})=>{const a=[{id:1,title:"Язык оригинала",value:x(i.language,["en"])},{id:2,title:"Бюджет",value:_(i.budget)},{id:3,title:"Выручка",value:_(i.revenue)},{id:4,title:"Режиссёр",value:i.director},{id:5,title:"Продакшен",value:i.production},{id:6,title:"Награды",value:i.awardsSummary}];return e.jsx("section",{className:t["movie-info"],"aria-label":"О фильме",children:e.jsxs(c,{className:t["movie-info__container"],children:[e.jsx("h2",{className:t["movie-info__title"],children:"О фильме"}),e.jsx("ul",{className:t["movie-info__list"],children:a.map(s=>e.jsx(b,{title:s.title,value:s.value},s.id))})]})})},C={},T=()=>{const{id:i}=j(),a=v=>{const m=Number(v);if(!isNaN(m))return m},s=h(),{data:n,error:r,isSuccess:o,isPending:u,isError:d}=P({queryKey:["movie",i],queryFn:()=>y(a(i))},I);return p.useEffect(()=>{r&&s(g.add([r.message]))},[r,s]),e.jsxs(e.Fragment,{children:[(!o||o&&!n)&&e.jsxs(c,{children:[e.jsx(N,{}),u&&e.jsx(F,{className:C["movie-page__message"]}),o&&e.jsx(l,{children:"Фильм с укаанным Id не найден."}),d&&e.jsx(l,{children:"Ошибка загрузки данных."})]}),o&&n&&e.jsxs(e.Fragment,{children:[e.jsx(M,{movie:n,appearence:"secondary"}),e.jsx(q,{movie:n})]})]})};export{T as default};
